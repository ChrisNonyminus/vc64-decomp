.section .text

glabel func_80108170
/* 80108170 00103730  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80108174 00103734  7C 08 02 A6 */	mflr r0
/* 80108178 00103738  2C 04 00 FF */	cmpwi r4, 0xff
/* 8010817C 0010373C  90 01 00 24 */	stw r0, 0x24(r1)
/* 80108180 00103740  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 80108184 00103744  7C 9F 23 78 */	mr r31, r4
/* 80108188 00103748  93 C1 00 18 */	stw r30, 0x18(r1)
/* 8010818C 0010374C  7C 7E 1B 78 */	mr r30, r3
/* 80108190 00103750  93 A1 00 14 */	stw r29, 0x14(r1)
/* 80108194 00103754  93 81 00 10 */	stw r28, 0x10(r1)
/* 80108198 00103758  41 82 00 08 */	beq lbl_801081A0
/* 8010819C 0010375C  48 00 00 98 */	b lbl_80108234
lbl_801081A0:
/* 801081A0 00103760  3C 80 80 24 */	lis r4, lbl_80242478@ha
/* 801081A4 00103764  54 60 10 3A */	slwi r0, r3, 2
/* 801081A8 00103768  38 84 24 78 */	addi r4, r4, lbl_80242478@l
/* 801081AC 0010376C  7F A4 00 2E */	lwzx r29, r4, r0
/* 801081B0 00103770  83 9D 00 00 */	lwz r28, 0(r29)
/* 801081B4 00103774  7F 83 E3 78 */	mr r3, r28
/* 801081B8 00103778  4B FB 51 7D */	bl func_800BD334
/* 801081BC 0010377C  2C 03 00 00 */	cmpwi r3, 0
/* 801081C0 00103780  41 82 00 74 */	beq lbl_80108234
/* 801081C4 00103784  7F 83 E3 78 */	mr r3, r28
/* 801081C8 00103788  38 80 00 02 */	li r4, 2
/* 801081CC 0010378C  38 A0 00 00 */	li r5, 0
/* 801081D0 00103790  4B FB 51 A9 */	bl func_800BD378
/* 801081D4 00103794  1C 1C 00 30 */	mulli r0, r28, 0x30
/* 801081D8 00103798  3C 60 80 24 */	lis r3, lbl_802423B8@ha
/* 801081DC 0010379C  7F 84 E3 78 */	mr r4, r28
/* 801081E0 001037A0  38 63 23 B8 */	addi r3, r3, lbl_802423B8@l
/* 801081E4 001037A4  7F 83 02 14 */	add r28, r3, r0
/* 801081E8 001037A8  7F 83 E3 78 */	mr r3, r28
/* 801081EC 001037AC  4B F7 F9 B9 */	bl func_80087BA4
/* 801081F0 001037B0  7F 83 E3 78 */	mr r3, r28
/* 801081F4 001037B4  4B F7 F5 91 */	bl func_80087784
/* 801081F8 001037B8  3C 80 80 00 */	lis r4, 0x800000F8@ha
/* 801081FC 001037BC  3C E0 80 11 */	lis r7, func_80108280@ha
/* 80108200 001037C0  80 04 00 F8 */	lwz r0, 0x800000F8@l(r4)
/* 80108204 001037C4  3C 60 10 62 */	lis r3, 0x10624DD3@ha
/* 80108208 001037C8  38 83 4D D3 */	addi r4, r3, 0x10624DD3@l
/* 8010820C 001037CC  38 E7 82 80 */	addi r7, r7, func_80108280@l
/* 80108210 001037D0  54 00 F0 BE */	srwi r0, r0, 2
/* 80108214 001037D4  7F 83 E3 78 */	mr r3, r28
/* 80108218 001037D8  7C 04 00 16 */	mulhwu r0, r4, r0
/* 8010821C 001037DC  38 A0 00 00 */	li r5, 0
/* 80108220 001037E0  54 00 D1 BE */	srwi r0, r0, 6
/* 80108224 001037E4  1C C0 03 E8 */	mulli r6, r0, 0x3e8
/* 80108228 001037E8  4B F7 F4 69 */	bl func_80087690
/* 8010822C 001037EC  38 00 00 01 */	li r0, 1
/* 80108230 001037F0  98 1D 00 41 */	stb r0, 0x41(r29)
lbl_80108234:
/* 80108234 001037F4  3C 60 80 24 */	lis r3, lbl_80242478@ha
/* 80108238 001037F8  57 C0 10 3A */	slwi r0, r30, 2
/* 8010823C 001037FC  38 63 24 78 */	addi r3, r3, lbl_80242478@l
/* 80108240 00103800  7C 63 00 2E */	lwzx r3, r3, r0
/* 80108244 00103804  81 83 00 2C */	lwz r12, 0x2c(r3)
/* 80108248 00103808  2C 0C 00 00 */	cmpwi r12, 0
/* 8010824C 0010380C  41 82 00 14 */	beq lbl_80108260
/* 80108250 00103810  7F C3 F3 78 */	mr r3, r30
/* 80108254 00103814  7F E4 FB 78 */	mr r4, r31
/* 80108258 00103818  7D 89 03 A6 */	mtctr r12
/* 8010825C 0010381C  4E 80 04 21 */	bctrl 
lbl_80108260:
/* 80108260 00103820  80 01 00 24 */	lwz r0, 0x24(r1)
/* 80108264 00103824  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 80108268 00103828  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 8010826C 0010382C  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 80108270 00103830  83 81 00 10 */	lwz r28, 0x10(r1)
/* 80108274 00103834  7C 08 03 A6 */	mtlr r0
/* 80108278 00103838  38 21 00 20 */	addi r1, r1, 0x20
/* 8010827C 0010383C  4E 80 00 20 */	blr 