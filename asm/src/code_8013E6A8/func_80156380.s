.section .text

glabel func_80156380
/* 80156380 00151940  94 21 FF 70 */	stwu r1, -0x90(r1)
/* 80156384 00151944  7C 08 02 A6 */	mflr r0
/* 80156388 00151948  90 01 00 94 */	stw r0, 0x94(r1)
/* 8015638C 0015194C  DB E1 00 80 */	stfd f31, 0x80(r1)
/* 80156390 00151950  F3 E1 00 88 */	psq_st f31, 136(r1), 0, 0
/* 80156394 00151954  3C A0 80 1A */	lis r5, lbl_8019CBB0@ha
/* 80156398 00151958  80 04 00 0C */	lwz r0, 0xc(r4)
/* 8015639C 0015195C  FF E0 08 90 */	fmr f31, f1
/* 801563A0 00151960  93 E1 00 7C */	stw r31, 0x7c(r1)
/* 801563A4 00151964  2C 00 01 FD */	cmpwi r0, 0x1fd
/* 801563A8 00151968  93 C1 00 78 */	stw r30, 0x78(r1)
/* 801563AC 0015196C  7C 9E 23 78 */	mr r30, r4
/* 801563B0 00151970  93 A1 00 74 */	stw r29, 0x74(r1)
/* 801563B4 00151974  93 81 00 70 */	stw r28, 0x70(r1)
/* 801563B8 00151978  7C 7C 1B 78 */	mr r28, r3
/* 801563BC 0015197C  80 A5 CB B0 */	lwz r5, lbl_8019CBB0@l(r5)
/* 801563C0 00151980  D8 21 00 08 */	stfd f1, 8(r1)
/* 801563C4 00151984  8B E5 00 00 */	lbz r31, 0(r5)
/* 801563C8 00151988  40 81 00 0C */	ble lbl_801563D4
/* 801563CC 0015198C  38 60 00 00 */	li r3, 0
/* 801563D0 00151990  48 00 03 50 */	b lbl_80156720
lbl_801563D4:
/* 801563D4 00151994  3B A0 00 00 */	li r29, 0
/* 801563D8 00151998  38 00 00 20 */	li r0, 0x20
/* 801563DC 0015199C  9B A1 00 10 */	stb r29, 0x10(r1)
/* 801563E0 001519A0  38 61 00 10 */	addi r3, r1, 0x10
/* 801563E4 001519A4  38 81 00 38 */	addi r4, r1, 0x38
/* 801563E8 001519A8  B0 01 00 12 */	sth r0, 0x12(r1)
/* 801563EC 001519AC  4B FF D8 15 */	bl func_80153C00
/* 801563F0 001519B0  FC 20 FA 10 */	fabs f1, f31
/* 801563F4 001519B4  C8 02 8C 58 */	lfd f0, lbl_8025CD98-_SDA2_BASE_(r2)
/* 801563F8 001519B8  FC 00 08 00 */	fcmpu cr0, f0, f1
/* 801563FC 001519BC  40 82 00 20 */	bne lbl_8015641C
/* 80156400 001519C0  3B BC FF FA */	addi r29, r28, -6
/* 80156404 001519C4  3C 80 80 17 */	lis r4, lbl_8016B610@ha
/* 80156408 001519C8  7F A3 EB 78 */	mr r3, r29
/* 8015640C 001519CC  38 84 B6 10 */	addi r4, r4, lbl_8016B610@l
/* 80156410 001519D0  48 00 31 B5 */	bl func_801595C4
/* 80156414 001519D4  7F A3 EB 78 */	mr r3, r29
/* 80156418 001519D8  48 00 03 08 */	b lbl_80156720
lbl_8015641C:
/* 8015641C 001519DC  88 01 00 3D */	lbz r0, 0x3d(r1)
/* 80156420 001519E0  28 00 00 49 */	cmplwi r0, 0x49
/* 80156424 001519E4  40 82 00 94 */	bne lbl_801564B8
/* 80156428 001519E8  88 01 00 38 */	lbz r0, 0x38(r1)
/* 8015642C 001519EC  7C 00 07 75 */	extsb. r0, r0
/* 80156430 001519F0  41 82 00 44 */	beq lbl_80156474
/* 80156434 001519F4  88 1E 00 05 */	lbz r0, 5(r30)
/* 80156438 001519F8  3B BC FF FB */	addi r29, r28, -5
/* 8015643C 001519FC  28 00 00 41 */	cmplwi r0, 0x41
/* 80156440 00151A00  40 82 00 1C */	bne lbl_8015645C
/* 80156444 00151A04  3C 80 80 17 */	lis r4, lbl_8016B610@ha
/* 80156448 00151A08  7F A3 EB 78 */	mr r3, r29
/* 8015644C 00151A0C  38 84 B6 10 */	addi r4, r4, lbl_8016B610@l
/* 80156450 00151A10  38 84 00 06 */	addi r4, r4, 6
/* 80156454 00151A14  48 00 31 71 */	bl func_801595C4
/* 80156458 00151A18  48 00 00 58 */	b lbl_801564B0
lbl_8015645C:
/* 8015645C 00151A1C  3C 80 80 17 */	lis r4, lbl_8016B610@ha
/* 80156460 00151A20  7F A3 EB 78 */	mr r3, r29
/* 80156464 00151A24  38 84 B6 10 */	addi r4, r4, lbl_8016B610@l
/* 80156468 00151A28  38 84 00 0B */	addi r4, r4, 0xb
/* 8015646C 00151A2C  48 00 31 59 */	bl func_801595C4
/* 80156470 00151A30  48 00 00 40 */	b lbl_801564B0
lbl_80156474:
/* 80156474 00151A34  88 1E 00 05 */	lbz r0, 5(r30)
/* 80156478 00151A38  3B BC FF FC */	addi r29, r28, -4
/* 8015647C 00151A3C  28 00 00 41 */	cmplwi r0, 0x41
/* 80156480 00151A40  40 82 00 1C */	bne lbl_8015649C
/* 80156484 00151A44  3C 80 80 17 */	lis r4, lbl_8016B610@ha
/* 80156488 00151A48  7F A3 EB 78 */	mr r3, r29
/* 8015648C 00151A4C  38 84 B6 10 */	addi r4, r4, lbl_8016B610@l
/* 80156490 00151A50  38 84 00 10 */	addi r4, r4, 0x10
/* 80156494 00151A54  48 00 31 31 */	bl func_801595C4
/* 80156498 00151A58  48 00 00 18 */	b lbl_801564B0
lbl_8015649C:
/* 8015649C 00151A5C  3C 80 80 17 */	lis r4, lbl_8016B610@ha
/* 801564A0 00151A60  7F A3 EB 78 */	mr r3, r29
/* 801564A4 00151A64  38 84 B6 10 */	addi r4, r4, lbl_8016B610@l
/* 801564A8 00151A68  38 84 00 14 */	addi r4, r4, 0x14
/* 801564AC 00151A6C  48 00 31 19 */	bl func_801595C4
lbl_801564B0:
/* 801564B0 00151A70  7F A3 EB 78 */	mr r3, r29
/* 801564B4 00151A74  48 00 02 6C */	b lbl_80156720
lbl_801564B8:
/* 801564B8 00151A78  28 00 00 4E */	cmplwi r0, 0x4e
/* 801564BC 00151A7C  40 82 00 94 */	bne lbl_80156550
/* 801564C0 00151A80  88 01 00 38 */	lbz r0, 0x38(r1)
/* 801564C4 00151A84  7C 00 07 75 */	extsb. r0, r0
/* 801564C8 00151A88  41 82 00 44 */	beq lbl_8015650C
/* 801564CC 00151A8C  88 1E 00 05 */	lbz r0, 5(r30)
/* 801564D0 00151A90  3B BC FF FB */	addi r29, r28, -5
/* 801564D4 00151A94  28 00 00 41 */	cmplwi r0, 0x41
/* 801564D8 00151A98  40 82 00 1C */	bne lbl_801564F4
/* 801564DC 00151A9C  3C 80 80 17 */	lis r4, lbl_8016B610@ha
/* 801564E0 00151AA0  7F A3 EB 78 */	mr r3, r29
/* 801564E4 00151AA4  38 84 B6 10 */	addi r4, r4, lbl_8016B610@l
/* 801564E8 00151AA8  38 84 00 18 */	addi r4, r4, 0x18
/* 801564EC 00151AAC  48 00 30 D9 */	bl func_801595C4
/* 801564F0 00151AB0  48 00 00 58 */	b lbl_80156548
lbl_801564F4:
/* 801564F4 00151AB4  3C 80 80 17 */	lis r4, lbl_8016B610@ha
/* 801564F8 00151AB8  7F A3 EB 78 */	mr r3, r29
/* 801564FC 00151ABC  38 84 B6 10 */	addi r4, r4, lbl_8016B610@l
/* 80156500 00151AC0  38 84 00 1D */	addi r4, r4, 0x1d
/* 80156504 00151AC4  48 00 30 C1 */	bl func_801595C4
/* 80156508 00151AC8  48 00 00 40 */	b lbl_80156548
lbl_8015650C:
/* 8015650C 00151ACC  88 1E 00 05 */	lbz r0, 5(r30)
/* 80156510 00151AD0  3B BC FF FC */	addi r29, r28, -4
/* 80156514 00151AD4  28 00 00 41 */	cmplwi r0, 0x41
/* 80156518 00151AD8  40 82 00 1C */	bne lbl_80156534
/* 8015651C 00151ADC  3C 80 80 17 */	lis r4, lbl_8016B610@ha
/* 80156520 00151AE0  7F A3 EB 78 */	mr r3, r29
/* 80156524 00151AE4  38 84 B6 10 */	addi r4, r4, lbl_8016B610@l
/* 80156528 00151AE8  38 84 00 22 */	addi r4, r4, 0x22
/* 8015652C 00151AEC  48 00 30 99 */	bl func_801595C4
/* 80156530 00151AF0  48 00 00 18 */	b lbl_80156548
lbl_80156534:
/* 80156534 00151AF4  3C 80 80 17 */	lis r4, lbl_8016B610@ha
/* 80156538 00151AF8  7F A3 EB 78 */	mr r3, r29
/* 8015653C 00151AFC  38 84 B6 10 */	addi r4, r4, lbl_8016B610@l
/* 80156540 00151B00  38 84 00 26 */	addi r4, r4, 0x26
/* 80156544 00151B04  48 00 30 81 */	bl func_801595C4
lbl_80156548:
/* 80156548 00151B08  7F A3 EB 78 */	mr r3, r29
/* 8015654C 00151B0C  48 00 01 D4 */	b lbl_80156720
lbl_80156550:
/* 80156550 00151B10  39 00 00 01 */	li r8, 1
/* 80156554 00151B14  38 E0 00 64 */	li r7, 0x64
/* 80156558 00151B18  88 01 00 09 */	lbz r0, 9(r1)
/* 8015655C 00151B1C  7F 84 E3 78 */	mr r4, r28
/* 80156560 00151B20  88 61 00 08 */	lbz r3, 8(r1)
/* 80156564 00151B24  38 A1 00 18 */	addi r5, r1, 0x18
/* 80156568 00151B28  54 00 88 1C */	slwi r0, r0, 0x11
/* 8015656C 00151B2C  99 01 00 28 */	stb r8, 0x28(r1)
/* 80156570 00151B30  50 60 C8 0C */	rlwimi r0, r3, 0x19, 0, 6
/* 80156574 00151B34  54 03 5D 7E */	srwi r3, r0, 0x15
/* 80156578 00151B38  99 01 00 29 */	stb r8, 0x29(r1)
/* 8015657C 00151B3C  38 63 FC 01 */	addi r3, r3, -1023
/* 80156580 00151B40  9B A1 00 2A */	stb r29, 0x2a(r1)
/* 80156584 00151B44  9B A1 00 2B */	stb r29, 0x2b(r1)
/* 80156588 00151B48  80 C1 00 28 */	lwz r6, 0x28(r1)
/* 8015658C 00151B4C  9B A1 00 2C */	stb r29, 0x2c(r1)
/* 80156590 00151B50  98 E1 00 2D */	stb r7, 0x2d(r1)
/* 80156594 00151B54  80 01 00 2C */	lwz r0, 0x2c(r1)
/* 80156598 00151B58  93 A1 00 30 */	stw r29, 0x30(r1)
/* 8015659C 00151B5C  91 01 00 34 */	stw r8, 0x34(r1)
/* 801565A0 00151B60  90 C1 00 18 */	stw r6, 0x18(r1)
/* 801565A4 00151B64  90 01 00 1C */	stw r0, 0x1c(r1)
/* 801565A8 00151B68  93 A1 00 20 */	stw r29, 0x20(r1)
/* 801565AC 00151B6C  91 01 00 24 */	stw r8, 0x24(r1)
/* 801565B0 00151B70  4B FF F9 09 */	bl func_80155EB8
/* 801565B4 00151B74  88 1E 00 05 */	lbz r0, 5(r30)
/* 801565B8 00151B78  28 00 00 61 */	cmplwi r0, 0x61
/* 801565BC 00151B7C  40 82 00 14 */	bne lbl_801565D0
/* 801565C0 00151B80  38 00 00 70 */	li r0, 0x70
/* 801565C4 00151B84  38 83 FF FF */	addi r4, r3, -1
/* 801565C8 00151B88  98 03 FF FF */	stb r0, -1(r3)
/* 801565CC 00151B8C  48 00 00 10 */	b lbl_801565DC
lbl_801565D0:
/* 801565D0 00151B90  38 00 00 50 */	li r0, 0x50
/* 801565D4 00151B94  38 83 FF FF */	addi r4, r3, -1
/* 801565D8 00151B98  98 03 FF FF */	stb r0, -1(r3)
lbl_801565DC:
/* 801565DC 00151B9C  80 1E 00 0C */	lwz r0, 0xc(r30)
/* 801565E0 00151BA0  39 01 00 08 */	addi r8, r1, 8
/* 801565E4 00151BA4  54 03 10 3A */	slwi r3, r0, 2
/* 801565E8 00151BA8  39 23 00 0B */	addi r9, r3, 0xb
/* 801565EC 00151BAC  7C 09 03 A6 */	mtctr r0
/* 801565F0 00151BB0  2C 00 00 01 */	cmpwi r0, 1
/* 801565F4 00151BB4  41 80 00 9C */	blt lbl_80156690
lbl_801565F8:
/* 801565F8 00151BB8  2C 09 00 40 */	cmpwi r9, 0x40
/* 801565FC 00151BBC  40 80 00 84 */	bge lbl_80156680
/* 80156600 00151BC0  7D 23 1E 70 */	srawi r3, r9, 3
/* 80156604 00151BC4  38 09 FF FC */	addi r0, r9, -4
/* 80156608 00151BC8  7C E8 1A 14 */	add r7, r8, r3
/* 8015660C 00151BCC  55 26 07 7E */	clrlwi r6, r9, 0x1d
/* 80156610 00151BD0  55 23 00 38 */	rlwinm r3, r9, 0, 0, 0x1c
/* 80156614 00151BD4  54 00 00 38 */	rlwinm r0, r0, 0, 0, 0x1c
/* 80156618 00151BD8  88 A7 00 00 */	lbz r5, 0(r7)
/* 8015661C 00151BDC  20 C6 00 07 */	subfic r6, r6, 7
/* 80156620 00151BE0  7C 03 00 00 */	cmpw r3, r0
/* 80156624 00151BE4  7C A0 36 30 */	sraw r0, r5, r6
/* 80156628 00151BE8  54 03 06 3E */	clrlwi r3, r0, 0x18
/* 8015662C 00151BEC  41 82 00 18 */	beq lbl_80156644
/* 80156630 00151BF0  88 07 FF FF */	lbz r0, -1(r7)
/* 80156634 00151BF4  54 00 40 2E */	slwi r0, r0, 8
/* 80156638 00151BF8  7C 00 36 30 */	sraw r0, r0, r6
/* 8015663C 00151BFC  7C 60 03 78 */	or r0, r3, r0
/* 80156640 00151C00  54 03 06 3E */	clrlwi r3, r0, 0x18
lbl_80156644:
/* 80156644 00151C04  54 63 07 3E */	clrlwi r3, r3, 0x1c
/* 80156648 00151C08  28 03 00 0A */	cmplwi r3, 0xa
/* 8015664C 00151C0C  40 80 00 10 */	bge lbl_8015665C
/* 80156650 00151C10  38 03 00 30 */	addi r0, r3, 0x30
/* 80156654 00151C14  54 03 06 3E */	clrlwi r3, r0, 0x18
/* 80156658 00151C18  48 00 00 2C */	b lbl_80156684
lbl_8015665C:
/* 8015665C 00151C1C  88 1E 00 05 */	lbz r0, 5(r30)
/* 80156660 00151C20  28 00 00 61 */	cmplwi r0, 0x61
/* 80156664 00151C24  40 82 00 10 */	bne lbl_80156674
/* 80156668 00151C28  38 03 00 57 */	addi r0, r3, 0x57
/* 8015666C 00151C2C  54 03 06 3E */	clrlwi r3, r0, 0x18
/* 80156670 00151C30  48 00 00 14 */	b lbl_80156684
lbl_80156674:
/* 80156674 00151C34  38 03 00 37 */	addi r0, r3, 0x37
/* 80156678 00151C38  54 03 06 3E */	clrlwi r3, r0, 0x18
/* 8015667C 00151C3C  48 00 00 08 */	b lbl_80156684
lbl_80156680:
/* 80156680 00151C40  38 60 00 30 */	li r3, 0x30
lbl_80156684:
/* 80156684 00151C44  9C 64 FF FF */	stbu r3, -1(r4)
/* 80156688 00151C48  39 29 FF FC */	addi r9, r9, -4
/* 8015668C 00151C4C  42 00 FF 6C */	bdnz lbl_801565F8
lbl_80156690:
/* 80156690 00151C50  80 1E 00 0C */	lwz r0, 0xc(r30)
/* 80156694 00151C54  2C 00 00 00 */	cmpwi r0, 0
/* 80156698 00151C58  40 82 00 10 */	bne lbl_801566A8
/* 8015669C 00151C5C  88 1E 00 03 */	lbz r0, 3(r30)
/* 801566A0 00151C60  2C 00 00 00 */	cmpwi r0, 0
/* 801566A4 00151C64  41 82 00 08 */	beq lbl_801566AC
lbl_801566A8:
/* 801566A8 00151C68  9F E4 FF FF */	stbu r31, -1(r4)
lbl_801566AC:
/* 801566AC 00151C6C  88 1E 00 05 */	lbz r0, 5(r30)
/* 801566B0 00151C70  38 60 00 31 */	li r3, 0x31
/* 801566B4 00151C74  98 64 FF FF */	stb r3, -1(r4)
/* 801566B8 00151C78  28 00 00 61 */	cmplwi r0, 0x61
/* 801566BC 00151C7C  40 82 00 10 */	bne lbl_801566CC
/* 801566C0 00151C80  38 00 00 78 */	li r0, 0x78
/* 801566C4 00151C84  9C 04 FF FE */	stbu r0, -2(r4)
/* 801566C8 00151C88  48 00 00 0C */	b lbl_801566D4
lbl_801566CC:
/* 801566CC 00151C8C  38 00 00 58 */	li r0, 0x58
/* 801566D0 00151C90  9C 04 FF FE */	stbu r0, -2(r4)
lbl_801566D4:
/* 801566D4 00151C94  38 00 00 30 */	li r0, 0x30
/* 801566D8 00151C98  9C 04 FF FF */	stbu r0, -1(r4)
/* 801566DC 00151C9C  88 01 00 38 */	lbz r0, 0x38(r1)
/* 801566E0 00151CA0  7C 00 07 75 */	extsb. r0, r0
/* 801566E4 00151CA4  41 82 00 10 */	beq lbl_801566F4
/* 801566E8 00151CA8  38 00 00 2D */	li r0, 0x2d
/* 801566EC 00151CAC  9C 04 FF FF */	stbu r0, -1(r4)
/* 801566F0 00151CB0  48 00 00 2C */	b lbl_8015671C
lbl_801566F4:
/* 801566F4 00151CB4  88 1E 00 01 */	lbz r0, 1(r30)
/* 801566F8 00151CB8  28 00 00 01 */	cmplwi r0, 1
/* 801566FC 00151CBC  40 82 00 10 */	bne lbl_8015670C
/* 80156700 00151CC0  38 00 00 2B */	li r0, 0x2b
/* 80156704 00151CC4  9C 04 FF FF */	stbu r0, -1(r4)
/* 80156708 00151CC8  48 00 00 14 */	b lbl_8015671C
lbl_8015670C:
/* 8015670C 00151CCC  28 00 00 02 */	cmplwi r0, 2
/* 80156710 00151CD0  40 82 00 0C */	bne lbl_8015671C
/* 80156714 00151CD4  38 00 00 20 */	li r0, 0x20
/* 80156718 00151CD8  9C 04 FF FF */	stbu r0, -1(r4)
lbl_8015671C:
/* 8015671C 00151CDC  7C 83 23 78 */	mr r3, r4
lbl_80156720:
/* 80156720 00151CE0  E3 E1 00 88 */	psq_l f31, 136(r1), 0, 0
/* 80156724 00151CE4  80 01 00 94 */	lwz r0, 0x94(r1)
/* 80156728 00151CE8  CB E1 00 80 */	lfd f31, 0x80(r1)
/* 8015672C 00151CEC  83 E1 00 7C */	lwz r31, 0x7c(r1)
/* 80156730 00151CF0  83 C1 00 78 */	lwz r30, 0x78(r1)
/* 80156734 00151CF4  83 A1 00 74 */	lwz r29, 0x74(r1)
/* 80156738 00151CF8  83 81 00 70 */	lwz r28, 0x70(r1)
/* 8015673C 00151CFC  7C 08 03 A6 */	mtlr r0
/* 80156740 00151D00  38 21 00 90 */	addi r1, r1, 0x90
/* 80156744 00151D04  4E 80 00 20 */	blr 